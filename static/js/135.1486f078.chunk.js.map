{"version":3,"file":"static/js/135.1486f078.chunk.js","mappings":"sKACA,MAAyB,sB,SCKnBA,EAAe,CACnBC,KAAM,IACNC,IAAK,IAGMC,EAAQ,SAAHC,GAAA,IAAMC,EAAOD,EAAPC,QAAOC,EAAAF,EAAEG,UAAAA,OAAS,IAAAD,EAAG,OAAMA,EAAA,OACjDE,EAAAA,EAAAA,KAAA,OACEC,UAAWC,EACXC,MAAOX,EAAaO,GACpBK,IAAKP,EAAO,GAAAQ,OAbK,6BAaa,KAAAA,OAAIN,EAAS,KAAAM,OAAIR,GAXjD,8DAYES,IAAKT,GACL,C,uJChBJ,EAA4B,gCAA5B,EAAsE,8BAAtE,EAA2G,2BAA3G,EAA+I,6B,kBCkF/I,EA5EqB,WACnB,IAAQU,GAAYC,EAAAA,EAAAA,MAAZD,QACRE,GAAwCC,EAAAA,EAAAA,UAAS,MAAKC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAA/CI,EAAYF,EAAA,GAAEG,EAAeH,EAAA,GACpCI,GAA8BL,EAAAA,EAAAA,WAAS,GAAMM,GAAAJ,EAAAA,EAAAA,GAAAG,EAAA,GAAtCE,EAAOD,EAAA,GAAEE,EAAUF,EAAA,GACpBG,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAgB,eAAA1B,GAAA2B,EAAAA,EAAAA,GAAAC,IAAAA,MAAG,SAAAC,IAAA,IAAAC,EAAAC,EAAA,OAAAH,IAAAA,MAAA,SAAAI,GAAA,cAAAA,EAAAC,KAAAD,EAAAE,MAAA,OACL,OAAlBZ,GAAW,GAAOU,EAAAC,KAAA,EAAAD,EAAAE,KAAA,GAEOC,EAAAA,EAAAA,IAAgBxB,GAAS,KAAD,EAAAmB,EAAAE,EAAAI,KAAvCL,EAAID,EAAJC,KAERb,EAAgBa,GAAMC,EAAAE,KAAA,gBAAAF,EAAAC,KAAA,EAAAD,EAAAK,GAAAL,EAAA,SAEtBV,GAAW,GACXJ,EAAgB,MAAM,yBAAAc,EAAAM,OAAA,GAAAT,EAAA,kBAEzB,kBAVqB,OAAA7B,EAAAuC,MAAA,KAAAC,UAAA,KAYtBd,GACF,GAAG,CAACf,IAEJ,IAAoB8B,EAEpB,OACEC,EAAAA,EAAAA,MAAA,OAAAC,SAAA,EACED,EAAAA,EAAAA,MAAA,OAAKrC,UAAWC,EAAcqC,SAAA,CAC3BtB,IAAWjB,EAAAA,EAAAA,KAAA,MAAAuC,SAAI,kCAEhBvC,EAAAA,EAAAA,KAAA,OAAAuC,UACEvC,EAAAA,EAAAA,KAACwC,EAAAA,GAAI,CAACC,GAAItB,EAASuB,MAAQvB,EAASuB,MAAQ,IAAIH,SAAC,cAGlD1B,IACCyB,EAAAA,EAAAA,MAAAK,EAAAA,SAAA,CAAAJ,SAAA,EACED,EAAAA,EAAAA,MAAA,OAAKrC,UAAWC,EAAYqC,SAAA,EAC1BvC,EAAAA,EAAAA,KAACL,EAAAA,EAAK,CAACE,QAASgB,EAAa+B,eAC7BN,EAAAA,EAAAA,MAAA,OAAKrC,UAAWC,EAASqC,SAAA,EACvBvC,EAAAA,EAAAA,KAAA,MAAAuC,SAAK1B,EAAagC,kBAClBP,EAAAA,EAAAA,MAAA,OAAAC,SAAA,CAAK,gBAjBCF,EAiBwBxB,EAAaiC,aAjBhC,GAAAzC,OAAO0C,KAAKC,MAAc,GAARX,GAAW,UAkBxCrC,EAAAA,EAAAA,KAAA,MAAAuC,SAAI,cACJvC,EAAAA,EAAAA,KAAA,OAAAuC,SAAM1B,EAAaoC,YACnBjD,EAAAA,EAAAA,KAAA,MAAAuC,SAAI,YACJvC,EAAAA,EAAAA,KAAA,OAAAuC,UACEvC,EAAAA,EAAAA,KAAA,MAAIC,UAAWC,EAAWqC,SACvB1B,EAAaqC,OAAOC,KAAI,SAAAC,GAAI,OAC3BpD,EAAAA,EAAAA,KAAA,MAAAuC,SAAmBa,EAAKC,MAAfD,EAAKE,GAAoB,eAO5CtD,EAAAA,EAAAA,KAAA,UACAA,EAAAA,EAAAA,KAAA,OAAAuC,SAAK,4BACLD,EAAAA,EAAAA,MAAA,MAAAC,SAAA,EACEvC,EAAAA,EAAAA,KAAA,MAAAuC,UACEvC,EAAAA,EAAAA,KAACwC,EAAAA,GAAI,CAACC,GAAG,OAAOC,MAAOvB,EAASuB,MAAMH,SAAC,YAIzCvC,EAAAA,EAAAA,KAAA,MAAAuC,UACEvC,EAAAA,EAAAA,KAACwC,EAAAA,GAAI,CAACC,GAAG,UAAUC,MAAOvB,EAASuB,MAAMH,SAAC,wBAQpDvC,EAAAA,EAAAA,KAACuD,EAAAA,SAAQ,CAACC,UAAUxD,EAAAA,EAAAA,KAACyD,EAAAA,EAAM,IAAIlB,UAC7BvC,EAAAA,EAAAA,KAAC0D,EAAAA,GAAM,QAIf,C","sources":["webpack://react-homework-template/./src/components/Thumb/Thumb.module.css?88f8","components/Thumb/Thumb.jsx","webpack://react-homework-template/./src/pages/MovieDetails/MovieDetails.module.css?0c24","pages/MovieDetails/MovieDetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"poster\":\"Thumb_poster__oYEXx\"};","import css from './Thumb.module.css';\n\nconst baseImageUrl = 'https://image.tmdb.org/t/p';\nconst defaultImage =\n  'https://glavcom.ua/img/article/9139/95_main-v1678685008.jpg';\n\nconst allowedWidth = {\n  w300: 300,\n  w92: 92,\n};\n\nexport const Thumb = ({ imageId, imageSize = 'w300' }) => (\n  <img\n    className={css.poster}\n    width={allowedWidth[imageSize]}\n    src={imageId ? `${baseImageUrl}/${imageSize}/${imageId}` : defaultImage}\n    alt={imageId}\n  />\n);\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MovieDetails_container__Ys+c9\",\"details\":\"MovieDetails_details__TGlfg\",\"info\":\"MovieDetails_info__qv2SI\",\"genres\":\"MovieDetails_genres__Pnmgt\"};","import { Link, Outlet, useLocation, useParams } from 'react-router-dom';\nimport { Suspense, useEffect, useState } from 'react';\nimport { Loader } from '../../components/Loader/Loader';\nimport { getMovieDetails } from '../../api/api';\nimport css from './MovieDetails.module.css';\nimport { Thumb } from '../../components/Thumb/Thumb';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [movieDetails, setMovieDetails] = useState(null);\n  const [isError, setIsError] = useState(false);\n  const location = useLocation();\n\n  useEffect(() => {\n    const loadMovieDetails = async () => {\n      setIsError(false);\n      try {\n        const { data } = await getMovieDetails(movieId);\n\n        setMovieDetails(data);\n      } catch (e) {\n        setIsError(true);\n        setMovieDetails(null);\n      }\n    };\n\n    loadMovieDetails();\n  }, [movieId]);\n\n  const formatScore = score => `${Math.round(score * 10)}%`;\n\n  return (\n    <div>\n      <div className={css.container}>\n        {isError && <h2>Failed to load movie details</h2>}\n\n        <div>\n          <Link to={location.state ? location.state : '/'}>Go back</Link>\n        </div>\n\n        {movieDetails && (\n          <>\n            <div className={css.details}>\n              <Thumb imageId={movieDetails.poster_path} />\n              <div className={css.info}>\n                <h1>{movieDetails.original_title}</h1>\n                <div>User score: {formatScore(movieDetails.vote_average)}</div>\n                <h3>Overview</h3>\n                <div>{movieDetails.overview}</div>\n                <h3>Genres</h3>\n                <div>\n                  <ul className={css.genres}>\n                    {movieDetails.genres.map(item => (\n                      <li key={item.id}>{item.name}</li>\n                    ))}\n                  </ul>\n                </div>\n              </div>\n            </div>\n\n            <hr />\n            <div>Additional information</div>\n            <ul>\n              <li>\n                <Link to=\"cast\" state={location.state}>\n                  Cast\n                </Link>\n              </li>\n              <li>\n                <Link to=\"reviews\" state={location.state}>\n                  Reviews\n                </Link>\n              </li>\n            </ul>\n          </>\n        )}\n      </div>\n      <Suspense fallback={<Loader />}>\n        <Outlet />\n      </Suspense>\n    </div>\n  );\n};\nexport default MovieDetails;\n"],"names":["allowedWidth","w300","w92","Thumb","_ref","imageId","_ref$imageSize","imageSize","_jsx","className","css","width","src","concat","alt","movieId","useParams","_useState","useState","_useState2","_slicedToArray","movieDetails","setMovieDetails","_useState3","_useState4","isError","setIsError","location","useLocation","useEffect","loadMovieDetails","_asyncToGenerator","_regeneratorRuntime","_callee","_yield$getMovieDetail","data","_context","prev","next","getMovieDetails","sent","t0","stop","apply","arguments","score","_jsxs","children","Link","to","state","_Fragment","poster_path","original_title","vote_average","Math","round","overview","genres","map","item","name","id","Suspense","fallback","Loader","Outlet"],"sourceRoot":""}